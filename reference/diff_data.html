<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Do a data diff — diff_data • daff</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Do a data diff — diff_data"><meta property="og:description" content="Find differences with a reference data set. The diff can be used to patch_data, to store the difference
for documentation purposes using write_diff or to visualize the difference using render_diff"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">daff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwindj/daff/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Do a data diff</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwindj/daff/blob/HEAD/R/diff-data.R" class="external-link"><code>R/diff-data.R</code></a></small>
    <div class="hidden name"><code>diff_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Find differences with a reference data set. The diff can be used to <code><a href="patch_data.html">patch_data</a></code>, to store the difference
for documentation purposes using <code><a href="readwrite.html">write_diff</a></code> or to visualize the difference using <code><a href="render_diff.html">render_diff</a></code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">diff_data</span><span class="op">(</span></span>
<span>  <span class="va">data_ref</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  always_show_header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  always_show_order <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  columns_to_ignore <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  count_like_a_spreadsheet <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ignore_whitespace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  never_show_order <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ordered <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  padding_strategy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"smart"</span>, <span class="st">"dense"</span>, <span class="st">"sparse"</span><span class="op">)</span>,</span>
<span>  show_meta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_unchanged <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_unchanged_columns <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_unchanged_meta <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  unchanged_column_context <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  unchanged_context <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data_ref</dt>
<dd><p><code>data.frame</code> reference data frame</p></dd>


<dt>data</dt>
<dd><p><code>data.frame</code> to check for changes</p></dd>


<dt>always_show_header</dt>
<dd><p><code>logical</code>
Should we always give a table header in diffs? This defaults
to TRUE, and - frankly - you should leave it at TRUE for now.</p></dd>


<dt>always_show_order</dt>
<dd><p><code>logical</code>
Diffs for tables where row/column order has been permuted may include
an extra row/column specifying the changes in row/column numbers.
If you'd like that extra row/column to always be included,
turn on this flag, and turn off never_show_order.</p></dd>


<dt>columns_to_ignore</dt>
<dd><p><code>character</code>
List of columns to ignore in all calculations.  Changes
related to these columns should be discounted.</p></dd>


<dt>count_like_a_spreadsheet</dt>
<dd><p><code>logical</code>
Should column numbers, if present, be rendered spreadsheet-style
as A,B,C,...,AA,BB,CC?  Defaults to TRUE.</p></dd>


<dt>ids</dt>
<dd><p><code>charcter</code>
List of columns that make up a primary key, if known. Otherwise
heuristics are used to find a decent key (or a set of decent keys).</p></dd>


<dt>ignore_whitespace</dt>
<dd><p><code>logical</code>
Should whitespace be omitted from comparisons.  Defaults to FALSE.</p></dd>


<dt>never_show_order</dt>
<dd><p><code>logical</code>
Diffs for tables where row/column order has been permuted may include
an extra row/column specifying the changes in row/column numbers.
If you'd like to be sure that that row/column is *never
included, turn on this flag, and turn off always_show_order.</p></dd>


<dt>ordered</dt>
<dd><p><code>logical</code>
Is the order of rows and columns meaningful? Defaults to `TRUE`.</p></dd>


<dt>padding_strategy</dt>
<dd><p><code>logical</code>
Strategy to use when padding columns.  Valid values are "auto",
"smart", "dense", and "sparse".  Leave null for a sensible default.</p></dd>


<dt>show_meta</dt>
<dd><p><code>logical</code>
Show changes in column properties, not just data, if available. Defaults to TRUE.</p></dd>


<dt>show_unchanged</dt>
<dd><p><code>logical</code>
Should we show all rows in diffs?  We default to showing
just rows that have changes (and some context rows around
them, if row order is meaningful), but you can override
this here.</p></dd>


<dt>show_unchanged_columns</dt>
<dd><p><code>logical</code>
Should we show all columns in diffs?  We default to showing
just columns that have changes (and some context columns around
them, if column order is meaningful), but you can override
this here.  Irrespective of this flag, you can rely
on index/key columns needed to identify rows to be included
in the diff.</p></dd>


<dt>show_unchanged_meta</dt>
<dd><p><code>logical</code>
Show all column properties, if available, even if unchanged.
Defaults to FALSE.</p></dd>


<dt>unchanged_column_context</dt>
<dd><p><code>integer</code>
When showing context columns around a changed column, what
is the minimum number of such columns we should show?</p></dd>


<dt>unchanged_context</dt>
<dd><p><code>integer</code>
When showing context rows around a changed row, what
is the minimum number of such rows we should show?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>difference object</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>differs_from</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edwindj/daff" class="external-link">daff</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">iris</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="fu">diff_data</span><span class="op">(</span><span class="va">x</span>, <span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Daff Comparison: ‘x’ vs. ‘iris’ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -&gt;  10-&gt;5.1      3.5         1.4          0.2         setosa </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4.9          3           1.4          0.2         setosa </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ...          ...         ...          ...         ...    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu">diff_data</span><span class="op">(</span><span class="va">x</span>, <span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#write_diff(dd, "diff.csv")</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">dd</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data diff: ‘x’ vs. ‘iris’ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           # Modified Reordered Deleted Added</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rows    150        1         0       0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns   5        1         0       0     0</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul Fitzpatrick, Edwin de Jonge, Gregory R. Warnes.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

